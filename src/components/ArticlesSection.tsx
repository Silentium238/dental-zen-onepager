import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Dialog, DialogContent, DialogHeader, DialogTitle } from "@/components/ui/dialog";
import { Calendar, Clock, ArrowRight } from "lucide-react";
import { useState } from "react";
import { useImageContext } from "@/contexts/ImageContext"; 


const articles = [
  {
    id: 1,
    title: "Як правильно доглядати за зубами",
    excerpt: "Основні правила гігієни порожнини рота, які допоможуть зберегти здоров'я ваших зубів на довгі роки.",
    category: "Гігієна",
    readTime: "5 хв",
    date: "15.12.2024",
    image: "",
    fullText: `Правильний догляд за зубами - це основа здоров'я порожнини рота. Щоденна гігієна допомагає запобігти карієсу, хворобам ясен та іншим стоматологічним проблемам.

Основні правила догляду за зубами:

1. Чистка зубів двічі на день
Чистіть зуби щонайменше двічі на день - вранці та ввечері. Використовуйте м'яку зубну щітку та фторвмісну зубну пасту. Час чистки повинен становити не менше 2-3 хвилин.

2. Правильна техніка чистки
Рухи щітки повинні бути круговими та вертикальними. Не забувайте чистити внутрішню поверхню зубів та язик. Натиск повинен бути м'яким, щоб не пошкодити емаль.

3. Використання зубної нитки
Зубна нитка допомагає видалити наліт та залишки їжі з міжзубних проміжків. Використовуйте її щодня перед чисткою зубів.

4. Ополіскувач для рота
Використовуйте антибактеріальний ополіскувач після чистки зубів для додаткової захисту від бактерій.

5. Регулярні візити до стоматолога
Проходьте профілактичні огляди у стоматолога кожні 6 місяців. Це допоможе виявити проблеми на ранній стадії.

6. Правильне харчування
Обмежте споживання цукру та кислих продуктів. Включайте в раціон молочні продукти, овочі та фрукти, багаті кальцієм та вітамінами.

Дотримання цих правил допоможе зберегти здоров'я ваших зубів на довгі роки.`
  },
  {
    id: 2,
    title: "Сучасні методи відбілювання зубів",
    excerpt: "Огляд безпечних та ефективних способів відбілювання зубів в домашніх умовах та в клініці.",
    category: "Косметологія",
    readTime: "7 хв",
    date: "12.12.2024",
    image: "",
    fullText: `Відбілювання зубів - це популярна косметична процедура, яка допомагає покращити колір зубної емалі та зробити посмішку більш привабливою.

Види відбілювання:

1. Професійне відбілювання в клініці
Найефективніший та найбезпечніший спосіб. Використовуються спеціальні гелі з високим вмістом перекису водню під контролем стоматолога. Результат видимий одразу після процедури.

2. Домашнє відбілювання під наглядом лікаря
Стоматолог виготовляє індивідуальні капи з відбілювальним гелем. Процедура проводиться вдома протягом 1-2 тижнів.

3. Відбілювальні пасти та ополіскувачі
М'якший ефект, але безпечніший для емалі. Підходить для підтримки результату після професійного відбілювання.

Показання до відбілювання:
- Жовтуватий відтінок зубів
- Плями від кави, чаю, тютюну
- Вікові зміни кольору емалі

Противопоказання:
- Карієс та інші ураження зубів
- Підвищена чутливість зубів
- Вагітність та годування грудьми
- Вік до 18 років

Після процедури важливо:
- Уникати забарвлюючих продуктів протягом 48 годин
- Не палити протягом тижня
- Використовувати зубну пасту для чутливих зубів
- Регулярно відвідувати стоматолога

Результат відбілювання тримається від 6 місяців до 2 років залежно від способу життя та догляду за зубами.`
  },
  {
    id: 3,
    title: "Імплантація зубів: що потрібно знати",
    excerpt: "Повний посібник з імплантації зубів: показання, протипоказання, етапи процедури.",
    category: "Імплантація",
    readTime: "10 хв",
    date: "10.12.2024",
    image: "",
    fullText: `Імплантація зубів - це сучасний метод відновлення відсутніх зубів за допомогою титанових імплантатів, які імітують корінь зуба.

Переваги імплантації:
- Відновлення функції жування на 100%
- Збереження кісткової тканини
- Не потребує обточування сусідніх зубів
- Тривалий термін служби (20+ років)
- Естетичний вигляд

Показання до імплантації:
- Відсутність одного або кількох зубів
- Неможливість носіння знімних протезів
- Бажання покращити якість життя
- Проблеми зі знімними протезами

Противопоказання:
- Серйозні захворювання серця та судин
- Цукровий діабет у декомпенсованій формі
- Онкологічні захворювання
- Психичні розлади
- Недостатній об'єм кісткової тканини

Етапи процедури:

1. Консультація та планування
Обстеження, зняття зліпків, планування лікування з використанням 3D-технологій.

2. Хірургічний етап
Встановлення імплантата під місцевою анестезією. Процедура триває 30-60 хвилин.

3. Період остеоінтеграції
Заживлення та зростання кістки навколо імплантата (3-6 місяців).

4. Встановлення абатмента
Підготовка до протезування.

5. Протезування
Встановлення коронки або мостовидного протеза.

Післяопераційний період:
- Дотримання м'якої дієти
- Обережна гігієна порожнини рота
- Прийом призначених ліків
- Регулярні візити до лікаря

Успішність імплантації становить 95-98% при дотриманні всіх рекомендацій лікаря.`
  },
  {
    id: 4,
    title: "Профілактика карієсу у дітей",
    excerpt: "Як захистити дитячі зуби від карієсу та прищепити правильні звички гігієни з раннього віку.",
    category: "Дитяча стоматологія",
    readTime: "6 хв",
    date: "08.12.2024",
    image: "",
    fullText: `Профілактика карієсу у дітей - це комплексний підхід, який включає правильну гігієну, харчування та регулярні візити до стоматолога.

Особливості дитячих зубів:
- Тонша емаль ніж у дорослих
- Вища схильність до карієсу
- Швидший розвиток уражень
- Важливість молочних зубів для розвитку постійних

Основні принципи профілактики:

1. Раннє початок гігієни
Починайте чистити ясна дитини ще до появи перших зубів за допомогою спеціальних серветок.

2. Правильний вибір зубної пасти
Використовуйте пасти з фтором відповідно до віку дитини. Для дітей до 3 років - паста з низьким вмістом фтору.

3. Контроль харчування
- Обмежте цукри та солодощі
- Уникайте постійного перекушування
- Включайте в раціон молочні продукти
- Давайте воду замість солодких напоїв

4. Фіторування
Професійне фіторування зубів у стоматолога кожні 3-6 місяців.

5. Герметизація фісур
Запечатування борозенок на жувальних поверхнях зубів для захисту від карієсу.

6. Регулярні візити до стоматолога
Перший візит - у віці 1 року, потім кожні 3-6 місяців.

Правила чистки зубів у дітей:
- До 3 років - батьки чистять зуби дитині
- 3-6 років - дитина чистить під контролем батьків
- Після 6 років - самостійна чистка з контролем якості

Мотивація дитини:
- Використовуйте ігрові елементи
- Показуйте приклад особисто
- Похваляйте за правильну чистку
- Використовуйте яскраві зубні щітки та пасти

Запам'ятайте: здорові молочні зуби - це основа для здоров'я постійних зубів у майбутньому!`
  },
  {
    id: 5,
    title: "Бректи: види та особливості",
    excerpt: "Порівняння різних типів брекет-систем та їх ефективності для виправлення прикусу.",
    category: "Ортодонтія",
    readTime: "8 хв",
    date: "05.12.2024",
    image: "",
    fullText: `Брекети - це ортодонтичні конструкції для виправлення прикусу та вирівнювання зубів. Сучасна ортодонтія пропонує різні типи брекет-систем.

Види брекет-систем:

1. Металічні брекети
- Найпоширеніший та найдоступніший варіант
- Висока ефективність та надійність
- Швидкі результати лікування
- Менш естетичний вигляд

2. Керамічні брекети
- Білий колір, менш помітні
- Хороша естетика
- Трохи більший розмір ніж металеві
- Вища вартість

3. Сапфірові брекети
- Прозорі, майже непомітні
- Відмінна естетика
- Висока міцність
- Найвища вартість

4. Лінгвальні брекети
- Встановлюються з внутрішньої сторони зубів
- Повністю непомітні
- Складніше в догляді
- Можуть впливати на дикцію

5. Самолігуючі брекети
- Сучасна технологія
- Менше візитів до лікаря
- Швидше лікування
- Вища вартість

Показання до носіння брекетів:
- Неправильний прикус
- Криві зуби
- Щілини між зубами
- Перекриття зубів
- Асиметрія обличчя

Етапи лікування:
1. Консультація та планування
2. Підготовка до лікування
3. Встановлення брекетів
4. Регулярні корекції
5. Зняття брекетів
6. Ретенційний період

Правила догляду за брекетами:
- Ретельна чистка зубів після кожного прийому їжі
- Використання спеціальних щіток та єршиків
- Обмеження твердих та липких продуктів
- Регулярні візити до ортодонта

Тривалість лікування: 1-3 роки залежно від складності випадку.

Результат носіння брекетів:
- Вирівнювання зубів
- Покращення прикусу
- Естетичний вигляд посмішки
- Покращення функції жування
- Підвищення самооцінки

Важливо: після зняття брекетів необхідно носити ретейнери для збереження результату.`
  },
  {
    id: 6,
    title: "Харчування для здоров'я зубів",
    excerpt: "Які продукти корисні для зубів, а яких варто уникати для підтримки здоров'я порожнини рота.",
    category: "Харчування",
    readTime: "4 хв",
    date: "03.12.2024",
    image: "",
    fullText: `Правильне харчування відіграє ключову роль у підтримці здоров'я зубів та ясен. Деякі продукти корисні для зубів, а інші можуть завдати шкоди.

Корисні продукти для зубів:

1. Молочні продукти
- Сир, молоко, йогурт багаті кальцієм
- Сприяють мінералізації емалі
- Нейтралізують кислоту в роті

2. Хрусткі овочі та фрукти
- Яблука, морква, селера
- Стимулюють виділення слини
- Очищують зуби природним способом

3. Листова зелень
- Шпинат, салат, петрушка
- Багаті вітамінами та мінералами
- Містять фолієву кислоту

4. Горіхи та насіння
- Містять фосфор та магній
- Стимулюють жування
- Багаті білком

5. Зелений чай
- Містить антиоксиданти
- Має антибактеріальні властивості
- Зменшує запалення ясен

6. Вода
- Найкращий напій для зубів
- Сприяє виділенню слини
- Не містить цукру та кислот

Шкідливі продукти:

1. Солодощі та цукерки
- Сприяють розвитку карієсу
- Особливо небезпечні липкі цукерки
- Довго залишаються на зубах

2. Газовані напої
- Високий вміст цукру
- Містять кислоту
- Пошкоджують емаль

3. Цитрусові в надмірній кількості
- Містять лимонну кислоту
- Можуть пошкодити емаль
- Краще споживати з іншими продуктами

4. Алкоголь
- Викликає сухість у роті
- Зменшує виділення слини
- Сприяє розвитку захворювань ясен

Правила харчування для здоров'я зубів:

1. Обмежте споживання цукру
2. Їжте регулярно, уникайте постійного перекушування
3. Після солодкого чистяйте зуби або прополоскайте рот
4. Включайте в раціон кальцій та вітамін D
5. П'йте достатньо води
6. Уникайте надто гарячих або холодних продуктів

Пам'ятайте: правильне харчування - це лише частина комплексного догляду за зубами. Не забувайте про регулярну гігієну та візити до стоматолога!`
  }
];

// Додаткові статті
const additionalArticles = [
  {
    id: 7,
    title: "Ендодонтичне лікування: що це таке",
    excerpt: "Детальний огляд процедури лікування кореневих каналів та її необхідності.",
    category: "Ендодонтія",
    readTime: "6 хв",
    date: "01.12.2024",
    image: "",
    fullText: `Ендодонтичне лікування (лікування кореневих каналів) - це процедура, яка виконується для збереження зуба при ураженні пульпи.

Коли потрібне ендодонтичне лікування:
- Глибокий карієс
- Травма зуба
- Тривалий біль у зубах
- Абсцес або флегмона
- Підготовка до протезування

Етапи процедури:
1. Діагностика та анестезія
2. Доступ до кореневих каналів
3. Очищення та дезінфекція
4. Пломбування каналів
5. Відновлення коронки зуба

Сучасні методики використовують мікроскопи та ультразвук для більш точного лікування.`
  },
  {
    id: 8,
    title: "Протезування зубів: види та особливості",
    excerpt: "Огляд різних типів зубних протезів та їх переваг для відновлення функції жування.",
    category: "Протезування",
    readTime: "9 хв",
    date: "28.11.2024",
    image: "",
    fullText: `Протезування зубів - це відновлення відсутніх зубів за допомогою штучних конструкцій.

Види протезів:

1. Знімні протези
- Повні знімні протези
- Частково знімні протези
- Бюгельні протези

2. Незнімні протези
- Коронки
- Мостовидні протези
- Вініри та люмініри

3. Комбіновані протези
- Протези на імплантатах
- Телескопічні протези

Матеріали для протезів:
- Металокераміка
- Безметалева кераміка
- Пластмаса
- Метали (титан, золото)

Сучасні технології включають CAD/CAM системи для точного виготовлення протезів.`
  },
//   {
//     id: 9,
//     title: "Хірургічна стоматологія: основні процедури",
//     excerpt: "Огляд основних хірургічних процедур у стоматології та показання до їх проведення.",
//     category: "Хірургія",
//     readTime: "7 хв",
//     date: "25.11.2024",
//     image: "https://i.pinimg.com/originals/80/a7/ff/80a7ff7813948f297a6384305edadb00.jpg",
//     fullText: `Хірургічна стоматологія займається оперативними втручаннями в порожнині рота.

// Основні процедури:

// 1. Видалення зубів
// - Просте видалення
// - Складне видалення
// - Видалення зубів мудрості

// 2. Імплантація
// - Встановлення імплантатів
// - Кісткова пластика
// - Синус-ліфтинг

// 3. Лікування захворювань ясен
// - Кюретаж
// - Лоскутні операції
// - Кісткова пластика

// 4. Лікування кист та пухлин
// - Цистектомія
// - Резекція верхівки кореня
// - Біопсія

// Сучасна хірургічна стоматологія використовує лазерні технології та мінімально інвазивні методи.`
//   },
//   {
//     id: 10,
//     title: "Естетична стоматологія: красива посмішка",
//     excerpt: "Сучасні методи покращення естетики посмішки та відновлення природної краси зубів.",
//     category: "Естетика",
//     readTime: "8 хв",
//     date: "22.11.2024",
//     image: "https://i.pinimg.com/736x/b2/49/32/b249320ea6845ba6b9f15949c57f0725.jpg",
//     fullText: `Естетична стоматологія займається покращенням зовнішнього вигляду зубів та посмішки.

// Основні процедури:

// 1. Відбілювання зубів
// - Професійне відбілювання
// - Домашнє відбілювання
// - Внутрішнє відбілювання

// 2. Вініри та люмініри
// - Керамічні вініри
// - Композитні вініри
// - Люмініри (мінімально інвазивні)

// 3. Реставрація зубів
// - Художня реставрація
// - Композитні пломби
// - Керамічні вкладки

// 4. Виправлення форми зубів
// - Контурування
// - Збільшення зубів
// - Зменшення зубів

// 5. Виправлення прикусу
// - Брекети
// - Елайнери
// - Ретейнери

// Сучасні матеріали дозволяють досягти природного вигляду зубів з високою міцністю.`
//   },
//   {
//     id: 11,
//     title: "Дитяча стоматологія: особливості лікування",
//     excerpt: "Специфіка лікування зубів у дітей та створення комфортних умов для маленьких пацієнтів.",
//     category: "Дитяча стоматологія",
//     readTime: "5 хв",
//     date: "20.11.2024",
//     image: "https://avatars.mds.yandex.net/i?id=16f0aa6a940826ed387ac7486325fcf85304c348-7450098-images-thumbs&n=13",
//     fullText: `Дитяча стоматологія має свої особливості через анатомічні та психологічні особливості дітей.

// Особливості дитячих зубів:
// - Тонша емаль
// - Велика пульпова камера
// - Швидкий розвиток карієсу
// - Молочні зуби - основи для постійних

// Методи лікування:
// 1. Профілактика
// - Фіторування
// - Герметизація фісур
// - Професійна гігієна

// 2. Лікування карієсу
// - Раннє лікування
// - Серебрення зубів
// - Пломбування

// 3. Лікування пульпіту
// - Консервативні методи
// - Віталектомія
// - Пульпотомія

// 4. Ортодонтичне лікування
// - Раннє виправлення прикусу
// - Профілактичні апарати
// - Брекети

// Психологічні аспекти:
// - Створення довіри
// - Ігрові методи
// - Седація при необхідності
// - Підтримка батьків

// Важливо створити позитивне ставлення до стоматолога з дитинства.`
//   },
//   {
//     id: 12,
//     title: "Профілактика захворювань ясен",
//     excerpt: "Як запобігти захворюванням ясен та підтримати їх здоров'я на довгі роки.",
//     category: "Пародонтологія",
//     readTime: "6 хв",
//     date: "18.11.2024",
//     image: "https://stomatologist.org/wp-content/uploads/2019/01/ec9c1ccf284f0421018b94bb3f2303f4.jpg",
//     fullText: `Захворювання ясен - одна з найпоширеніших проблем у стоматології, яку можна запобігти.

// Основні захворювання ясен:
// 1. Гінгівіт - запалення ясен
// 2. Пародонтит - ураження пародонта
// 3. Пародонтоз - дистрофічні зміни

// Симптоми захворювань ясен:
// - Кровоточивість ясен
// - Набряклість та почервоніння
// - Неприємний запах з рота
// - Рухливість зубів
// - Біль при жуванні

// Причини розвитку:
// - Погана гігієна порожнини рота
// - Накопичення зубного нальоту
// - Куріння
// - Стрес
// - Генетична схильність
// - Діабет

// Профілактика:
// 1. Правильна гігієна
// - Чистка зубів 2 рази на день
// - Використання зубної нитки
// - Ополіскувачі для рота

// 2. Професійна гігієна
// - Чистка зубів у стоматолога
// - Скейлінг та полірування
// - Регулярні огляди

// 3. Здоровий спосіб життя
// - Відмова від куріння
// - Збалансоване харчування
// - Контроль стресу

// 4. Лікування системних захворювань
// - Контроль діабету
// - Підтримка імунітету

// Раннє виявлення та лікування допомагає зберегти зуби на довгі роки.`
//   }
];

const ArticlesSection = () => {
  const [selectedArticle, setSelectedArticle] = useState(null);
  const [showAllArticles, setShowAllArticles] = useState(false);
  const { getCurrentImages } = useImageContext();
  
  const currentImages = getCurrentImages();
  const displayedArticles = showAllArticles ? [...articles, ...additionalArticles] : articles;
  return (
    <section id="articles" className="py-12 md:py-20 bg-white">
      <div className="max-w-[1350px] mx-auto px-4 md:px-6">
        <div className="text-center mb-12 md:mb-16">
          <h2 className="text-3xl sm:text-4xl md:text-6xl tracking-tighter text-black mb-4 md:mb-6 uppercase">Статті</h2>
          <p className="text-base sm:text-lg text-black max-w-[435px] mx-auto leading-tight tracking-normal font-normal">
            Корисна інформація про стоматологію, здоров'я зубів та сучасні методи лікування.
          </p>
        </div>

        <div className="grid sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
          {displayedArticles.map((article) => (
            <Card 
              key={article.id} 
              className="border border-black shadow-none hover:border-red-600 transition-all duration-300 bg-white rounded-none group flex flex-col h-full"
            >
              <div className="relative overflow-hidden">
                <img 
                  src={currentImages[article.id - 1] || article.image} 
                  alt={article.title}
                  className="w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-300"
                />
                <div className="absolute top-3 left-3 sm:top-4 sm:left-4 bg-red-600 text-white px-2 py-1 sm:px-3 sm:py-1 text-xs sm:text-sm uppercase">
                  {article.category}
                </div>
              </div>
              
              <CardHeader className="p-4 sm:p-6 pb-2 sm:pb-4">
                <CardTitle className="text-lg sm:text-xl font-semibold text-black uppercase leading-tight">
                  {article.title}
                </CardTitle>
              </CardHeader>
              
              <CardContent className="p-4 sm:p-6 pt-0 flex flex-col flex-grow">
                <div className="flex-grow">
                  <p className="text-black leading-tight tracking-normal font-normal mb-3 sm:mb-4 text-sm sm:text-base">
                    {article.excerpt}
                  </p>
                  
                  <div className="flex items-center justify-between text-xs sm:text-sm text-black mb-3 sm:mb-4">
                    <div className="flex items-center gap-1 sm:gap-2">
                      <Calendar className="w-3 h-3 sm:w-4 sm:h-4 text-red-600" />
                      <span>{article.date}</span>
                    </div>
                    <div className="flex items-center gap-1 sm:gap-2">
                      <Clock className="w-3 h-3 sm:w-4 sm:h-4 text-red-600" />
                      <span>{article.readTime}</span>
                    </div>
                  </div>
                </div>
                
                <Button
                  onClick={() => setSelectedArticle(article)}
                   style={{backgroundColor: 'white'}}
            variant="outline"
                  className="w-full bg-white text-black border-black hover:text-red-600 rounded-none uppercase h-[36px] sm:h-[40px] text-sm sm:text-[16px] font-normal hover:border-red-600 transition-all duration-300 mt-auto flex justify-between items-center px-4"
                >
                  <span>Читати статтю</span>
              
                  <ArrowRight style={{width: '25px', height: '25px'}} className="w-8 h-8 sm:w-10 sm:h-10 group-hover:translate-x-1 transition-transform duration-300 rotate-45" />
                </Button>
              </CardContent>
            </Card>
          ))}
        </div>

        <div className="text-center mt-8 sm:mt-12">
          <Button
            // style={{backgroundColor: 'white'}}
            variant="outline"
            onClick={() => setShowAllArticles(!showAllArticles)}
            className="bg-white hover:bg-red-600 text-black border-black hover:text-white rounded-none uppercase h-[44px] sm:h-[50px] text-base sm:text-[18px] font-normal px-6 sm:px-8"
          >
            {showAllArticles ? 'Показати менше' : 'Всі статті'}
          </Button>
        </div>
      </div>

      {/* Модальне вікно для відображення повного тексту статті */}
      <Dialog open={!!selectedArticle} onOpenChange={() => setSelectedArticle(null)}>
        <DialogContent  style={{borderRadius: '0'}} className="max-w-4xl max-h-[90vh] overflow-y-auto">
          <DialogHeader>
            <DialogTitle className="text-2xl font-bold text-black uppercase">
              {selectedArticle?.title}
            </DialogTitle>
            <div className="flex items-center gap-4 text-sm text-gray-600 mt-2">
              <div className="bg-red-600 text-white px-2 py-1 text-xs uppercase">
                {selectedArticle?.category}
              </div>
            </div>
          </DialogHeader>
          
          <div className="mt-6">
            <img 
              src={currentImages[selectedArticle?.id - 1] || selectedArticle?.image} 
              alt={selectedArticle?.title}
              className="w-full h-64 object-cover rounded-lg mb-6"
            />
            <div className="prose prose-lg max-w-none">
              <div className="whitespace-pre-line text-gray-800 leading-relaxed">
                {selectedArticle?.fullText}
              </div>
            </div>
          </div>
        </DialogContent>
      </Dialog>
    </section>
  );
};

export default ArticlesSection;
